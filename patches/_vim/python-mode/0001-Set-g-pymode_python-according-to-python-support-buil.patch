From 0c4ff773a0d03e62b7148d54d9d0361cd212a9b3 Mon Sep 17 00:00:00 2001
From: Yousong Zhou <yszhou4tech@gmail.com>
Date: Mon, 11 Feb 2019 12:32:26 +0800
Subject: [PATCH] Set g:pymode_python according to python support builtin in
 Vim

Instead of whether there exists a corresponding Python executable
---
 plugin/pymode.vim | 10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

diff --git a/plugin/pymode.vim b/plugin/pymode.vim
index 8aab5d7..85a91d6 100644
--- a/plugin/pymode.vim
+++ b/plugin/pymode.vim
@@ -19,10 +19,12 @@ filetype plugin on
 " OPTIONS: {{{
 
 " Vim Python interpreter. Set to 'disable' for remove python features.
-if has("python3") && executable('python3')
+if has("python3")
     call pymode#default('g:pymode_python', 'python3')
-else
+elseif has("python")
     call pymode#default('g:pymode_python', 'python')
+else
+    call pymode#default('g:pymode_python', 'disable')
 endif
 
 " Disable pymode warnings
@@ -290,10 +292,6 @@ if !len(g:pymode_python)
         let g:pymode_python = 'python'
     elseif exists('g:_uspy') && g:_uspy == ':py3'
         let g:pymode_python = 'python3'
-    elseif has("python")
-        let g:pymode_python = 'python'
-    elseif has("python3")
-        let g:pymode_python = 'python3'
     else
         let g:pymode_python = 'disable'
     endif
